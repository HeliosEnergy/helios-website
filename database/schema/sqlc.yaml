version: "2"
plugins:
  - name: py
    wasm:
      url: https://downloads.sqlc.dev/plugin/sqlc-gen-python_1.2.0.wasm
      sha256: a6c5d174c407007c3717eea36ff0882744346e6ba991f92f71d6ab2895204c0e
  - name: ts
    wasm:
      url: https://downloads.sqlc.dev/plugin/sqlc-gen-typescript_0.1.3.wasm
      sha256: 287df8f6cc06377d67ad5ba02c9e0f00c585509881434d15ea8bd9fc751a9368
sql:
  - engine: "postgresql"
    queries: "query.sql"
    schema: "migrations/*.sql"
    gen:
      go:
        package: analysis_db
        out: analysis_db
        sql_package: "pgx/v5"
    codegen:
      - out: analysis_db
        plugin: py
        options:
          package: analysis_db
          emit_sync_querier: true
          emit_async_querier: true
      - out: analysis_db
        plugin: ts
        options:
          runtime: node
          driver: postgres